<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="theme-color" content="#1a1a2e" />
    <title>StairLight - Control</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="apple-touch-icon" href="icon.png" />
  </head>
  <body>
    <!-- Generated by Copilot -->

    <div class="container">
      <!-- Header -->
      <header class="header">
        <h1>ðŸ”† StairLight Control</h1>
        <div class="status-indicator" id="connectionStatus">
          <span class="status-dot"></span>
          <span class="status-text">Connecting...</span>
        </div>
      </header>

      <!-- Navigation -->
      <nav class="nav-tabs">
        <a href="/" class="nav-tab active">Effects</a>
        <a href="/settings.html" class="nav-tab">Settings</a>
        <a href="/info.html" class="nav-tab">Info</a>
      </nav>

      <!-- Current Status -->
      <section class="card status-card">
        <h2>System Status</h2>
        <div class="status-grid">
          <div class="status-item">
            <span class="status-label">Effect Active:</span>
            <span id="effectActive" class="status-value">â€”</span>
          </div>
          <div class="status-item">
            <span class="status-label">Current State:</span>
            <span id="currentState" class="status-value">â€”</span>
          </div>
        </div>

        <!-- Debug sensor display (shown when debug mode enabled) -->
        <div id="sensorDebug" class="sensor-debug" style="display: none">
          <h3>Sensor Readings</h3>
          <div class="sensor-grid">
            <div class="sensor-item">
              <span class="sensor-label">Accel Magnitude:</span>
              <span id="accelMag" class="sensor-value">0.00 m/sÂ²</span>
            </div>
            <div class="sensor-item">
              <span class="sensor-label">Bottom Sensor:</span>
              <span id="bottomSensor" class="sensor-value">Inactive</span>
            </div>
            <div class="sensor-item">
              <span class="sensor-label">Motion Detected:</span>
              <span id="motionDetected" class="sensor-value">No</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Effect Configuration -->
      <section class="card">
        <h2>Walk-Up Effect</h2>
        <p class="card-description">Lights turn on from bottom to top when bottom sensor triggered</p>

        <div class="form-group">
          <label class="switch">
            <input type="checkbox" id="walkUpEnabled" />
            <span class="slider"></span>
          </label>
          <label for="walkUpEnabled">Enable Effect</label>
        </div>

        <div class="form-group">
          <label for="walkUpBrightness">Brightness: <span id="walkUpBrightnessVal">80</span>%</label>
          <input type="range" id="walkUpBrightness" min="10" max="100" value="80" />
        </div>

        <div class="form-group">
          <label for="walkUpSpeed">Step Delay: <span id="walkUpSpeedVal">200</span>ms</label>
          <input type="range" id="walkUpSpeed" min="50" max="2000" step="50" value="200" />
        </div>

        <div class="form-group">
          <label for="walkUpFade">Fade Duration: <span id="walkUpFadeVal">300</span>ms</label>
          <input type="range" id="walkUpFade" min="100" max="2000" step="50" value="300" />
        </div>

        <div class="form-group">
          <label for="walkUpOverlap">Overlap: <span id="walkUpOverlapVal">2</span> steps</label>
          <input type="range" id="walkUpOverlap" min="1" max="5" value="2" />
        </div>

        <button class="btn btn-test" onclick="testEffect(0)">â–¶ Test Effect</button>
      </section>

      <section class="card">
        <h2>Walk-Down Effect</h2>
        <p class="card-description">Lights turn on from top to bottom when top motion sensor triggered</p>

        <div class="form-group">
          <label class="switch">
            <input type="checkbox" id="walkDownEnabled" />
            <span class="slider"></span>
          </label>
          <label for="walkDownEnabled">Enable Effect</label>
        </div>

        <div class="form-group">
          <label for="walkDownBrightness">Brightness: <span id="walkDownBrightnessVal">80</span>%</label>
          <input type="range" id="walkDownBrightness" min="10" max="100" value="80" />
        </div>

        <div class="form-group">
          <label for="walkDownSpeed">Step Delay: <span id="walkDownSpeedVal">200</span>ms</label>
          <input type="range" id="walkDownSpeed" min="50" max="2000" step="50" value="200" />
        </div>

        <div class="form-group">
          <label for="walkDownFade">Fade Duration: <span id="walkDownFadeVal">300</span>ms</label>
          <input type="range" id="walkDownFade" min="100" max="2000" step="50" value="300" />
        </div>

        <div class="form-group">
          <label for="walkDownOverlap">Overlap: <span id="walkDownOverlapVal">2</span> steps</label>
          <input type="range" id="walkDownOverlap" min="1" max="5" value="2" />
        </div>

        <button class="btn btn-test" onclick="testEffect(1)">â–¶ Test Effect</button>
      </section>

      <section class="card">
        <h2>Walk-Up-Out Effect</h2>
        <p class="card-description">Lights turn off from bottom to top after timeout</p>

        <div class="form-group">
          <label class="switch">
            <input type="checkbox" id="walkUpOutEnabled" />
            <span class="slider"></span>
          </label>
          <label for="walkUpOutEnabled">Enable Effect</label>
        </div>

        <div class="form-group">
          <label for="walkUpOutSpeed">Step Delay: <span id="walkUpOutSpeedVal">150</span>ms</label>
          <input type="range" id="walkUpOutSpeed" min="50" max="2000" step="50" value="150" />
        </div>

        <div class="form-group">
          <label for="walkUpOutFade">Fade Duration: <span id="walkUpOutFadeVal">400</span>ms</label>
          <input type="range" id="walkUpOutFade" min="100" max="2000" step="50" value="400" />
        </div>

        <div class="form-group">
          <label for="walkUpOutOverlap">Overlap: <span id="walkUpOutOverlapVal">1</span> steps</label>
          <input type="range" id="walkUpOutOverlap" min="1" max="5" value="1" />
        </div>

        <button class="btn btn-test" onclick="testEffect(2)">â–¶ Test Effect</button>
      </section>

      <section class="card">
        <h2>Walk-Down-Out Effect</h2>
        <p class="card-description">Lights turn off from top to bottom after timeout</p>

        <div class="form-group">
          <label class="switch">
            <input type="checkbox" id="walkDownOutEnabled" />
            <span class="slider"></span>
          </label>
          <label for="walkDownOutEnabled">Enable Effect</label>
        </div>

        <div class="form-group">
          <label for="walkDownOutSpeed">Step Delay: <span id="walkDownOutSpeedVal">150</span>ms</label>
          <input type="range" id="walkDownOutSpeed" min="50" max="2000" step="50" value="150" />
        </div>

        <div class="form-group">
          <label for="walkDownOutFade">Fade Duration: <span id="walkDownOutFadeVal">400</span>ms</label>
          <input type="range" id="walkDownOutFade" min="100" max="2000" step="50" value="400" />
        </div>

        <div class="form-group">
          <label for="walkDownOutOverlap">Overlap: <span id="walkDownOutOverlapVal">1</span> steps</label>
          <input type="range" id="walkDownOutOverlap" min="1" max="5" value="1" />
        </div>

        <button class="btn btn-test" onclick="testEffect(3)">â–¶ Test Effect</button>
      </section>

      <!-- Save Button -->
      <div class="save-section">
        <button class="btn btn-primary" id="saveBtn" onclick="saveConfig()">ðŸ’¾ Save Configuration</button>
        <div id="saveStatus" class="save-status"></div>
      </div>
    </div>

    <script src="main.js"></script>
  </body>
</html>
